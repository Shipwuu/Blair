-- Creating the Sanity Check Frame
local sanityFrame = Instance.new("Frame")
sanityFrame.Name = "SanityFrame"
sanityFrame.Parent = screenGui
sanityFrame.AnchorPoint = Vector2.new(0.5, 0.5)
sanityFrame.Position = UDim2.new(0.5, 0, 0, 100) -- Positioned in the middle left, slightly down
sanityFrame.Size = UDim2.new(0, 200, 0, 50)
sanityFrame.BackgroundTransparency = 0.9 -- Transparent frame
sanityFrame.BorderSizePixel = 0

-- Adding Sanity Text
local sanityLabel = Instance.new("TextLabel")
sanityLabel.Parent = sanityFrame
sanityLabel.Size = UDim2.new(1, 0, 1, 0)
sanityLabel.BackgroundTransparency = 1
sanityLabel.Font = Enum.Font.SourceSansBold
sanityLabel.TextSize = 20
sanityLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- Default to white
sanityLabel.Text = "Sanity: Loading..."
sanityLabel.TextStrokeTransparency = 1 -- No outline

-- Function to update Sanity Text continuously
local player = game:GetService("Players").LocalPlayer
local sanity = player:WaitForChild("Sanity", 5)
if sanity then
    sanity:GetPropertyChangedSignal("Value"):Connect(function()
        local sanityValue = sanity.Value
        sanityLabel.Text = "Sanity: " .. sanityValue .. "%"

        -- Change text color based on sanity value
        if sanityValue >= 100 then
            sanityLabel.TextColor3 = Color3.new(1, 1, 1) -- White
        elseif sanityValue >= 50 then
            sanityLabel.TextColor3 = Color3.fromRGB(255, 165, 0) -- Orange
        elseif sanityValue >= 10 then
            sanityLabel.TextColor3 = Color3.fromRGB(255, 0, 0) -- Red
        else
            sanityLabel.TextColor3 = Color3.fromRGB(255, 0, 0) -- Red for values below 10%
        end
    end)
else
    sanityLabel.Text = "Sanity: N/A"
end
