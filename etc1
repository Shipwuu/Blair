--[[
    GHOST HUNTING WARNING SCRIPT
]]

-- Function to create or update GUI for hunt display
local function createHuntDisplay()
    local screenGui = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    
    local huntFrame = Instance.new("Frame")
    huntFrame.Name = "HuntFrame"
    huntFrame.Size = UDim2.new(1, 0, 0, 30)  -- Full width, same height
    huntFrame.Position = UDim2.new(0, 0, 0, 0)  -- Positioned at the top of the screen
    huntFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    huntFrame.BackgroundTransparency = 0.7  -- More transparency
    huntFrame.BorderSizePixel = 0  -- Removed border
    huntFrame.Visible = false
    huntFrame.Parent = screenGui

    local huntLabel = Instance.new("TextLabel")
    huntLabel.Size = UDim2.new(1, 0, 1, 0)
    huntLabel.BackgroundTransparency = 1
    huntLabel.Font = Enum.Font.SourceSans
    huntLabel.TextSize = 18
    huntLabel.TextColor3 = Color3.fromRGB(255, 255, 255)  -- White color for text
    huntLabel.Text = "Hunting"
    huntLabel.TextStrokeTransparency = 0.5
    huntLabel.TextXAlignment = Enum.TextXAlignment.Center
    huntLabel.TextYAlignment = Enum.TextYAlignment.Center
    huntLabel.Parent = huntFrame
    
    return huntFrame
end

-- Function to create a BillboardGui at the ghost's last known position
local function createGhostGoneBillboard(position)
    -- Create a part to anchor the BillboardGui
    local anchorPart = Instance.new("Part")
    anchorPart.Anchored = true
    anchorPart.CanCollide = false
    anchorPart.Transparency = 1 -- Make the part invisible
    anchorPart.Position = position
    anchorPart.Parent = workspace

    -- Create the BillboardGui
    local billboard = Instance.new("BillboardGui")
    billboard.Adornee = anchorPart
    billboard.Size = UDim2.new(0, 100, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 3, 0)
    billboard.AlwaysOnTop = true
    billboard.Parent = anchorPart

    local textLabel = Instance.new("TextLabel")
    textLabel.Parent = billboard
    textLabel.BackgroundTransparency = 1
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Font = Enum.Font.SourceSansBold
    textLabel.TextSize = 14
    textLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
    textLabel.TextStrokeTransparency = 0
    textLabel.TextYAlignment = Enum.TextYAlignment.Center
    textLabel.Text = "Ghost Gone"
    textLabel.ZIndex = 10

    -- Optionally, remove the Billboard after some time
    delay(10, function()
        anchorPart:Destroy() -- Remove the part and billboard after 10 seconds
    end)
end

-- Function to monitor ghost hunting and events
local function monitorGhostHunting()
    local huntFrame = createHuntDisplay()
    
    local function updateHuntDisplay(isHunting)
        if isHunting then
            huntFrame.BackgroundColor3 = Color3.fromRGB(255, 0, 0)  -- Red color for hunting
        else
            huntFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)  -- Black color for ghost event
        end
        huntFrame.Visible = isHunting
    end
    
    local ghostStartTime = nil
    local lastGhostPosition = nil
    
    game:GetService("RunService").RenderStepped:Connect(function()
        local Ghost = workspace:FindFirstChild("Ghost")
        local isHunting = false
        
        if Ghost then
            local rootPart = Ghost:FindFirstChild("HumanoidRootPart")
            if rootPart and rootPart.Transparency == 0 then
                if not ghostStartTime then
                    ghostStartTime = tick()  -- Start the timer when the ghost appears
                end
                
                lastGhostPosition = rootPart.Position
                
                local elapsedTime = tick() - ghostStartTime
                if elapsedTime > 8 then
                    isHunting = true  -- Consider hunting if ghost is visible for more than 8 seconds
                else
                    isHunting = false  -- Consider it a ghost event otherwise
                end
                
                updateHuntDisplay(isHunting)
            else
                if lastGhostPosition then
                    -- Ghost disappeared, create a "Ghost Gone" billboard at the last known position
                    createGhostGoneBillboard(lastGhostPosition)
                end
                
                ghostStartTime = nil  -- Reset timer if the ghost is not visible
                huntFrame.Visible = false
            end
        else
            if lastGhostPosition then
                -- Ghost disappeared, create a "Ghost Gone" billboard at the last known position
                createGhostGoneBillboard(lastGhostPosition)
            end
            
            ghostStartTime = nil  -- Reset timer if the ghost disappears
            huntFrame.Visible = false
        end
    end)
end

-- Start monitoring ghost hunting and events
monitorGhostHunting()

print("Ghost Hunting and Event Monitor Script with Position Clue is running")

--[[
    END GHOST HUNTING WARNING SCRIPT
]]
