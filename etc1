--[[
    GHOST ESP SCRIPT WITH DYNAMIC DETECTION AND FAME HUNTING FRAME
]]

local textColor = Color3.fromRGB(255, 0, 0) -- Red color for the "Ghost" text
local isTracking = false -- Flag to control the tracking loop

-- Function to create or update GUI for fame hunting display
local function createFameHuntingDisplay()
    local screenGui = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    
    local fameHuntFrame = Instance.new("Frame")
    fameHuntFrame.Name = "FameHuntFrame"
    fameHuntFrame.Size = UDim2.new(1, 0, 0, 30)  -- Full width, height of 30 pixels
    fameHuntFrame.Position = UDim2.new(0, 0, 0, 0)  -- Positioned at the top of the screen
    fameHuntFrame.BackgroundColor3 = Color3.fromRGB(255, 0, 0)  -- Red color for fame hunting frame
    fameHuntFrame.BackgroundTransparency = 0.7  -- More transparency
    fameHuntFrame.BorderSizePixel = 0  -- Removed border
    fameHuntFrame.Visible = false
    fameHuntFrame.Parent = screenGui

    local fameHuntLabel = Instance.new("TextLabel")
    fameHuntLabel.Size = UDim2.new(1, 0, 1, 0)
    fameHuntLabel.BackgroundTransparency = 1
    fameHuntLabel.Font = Enum.Font.SourceSansBold
    fameHuntLabel.TextSize = 18
    fameHuntLabel.TextColor3 = Color3.fromRGB(255, 255, 255)  -- White color for text
    fameHuntLabel.Text = "Fame Hunting"
    fameHuntLabel.TextStrokeTransparency = 0.5
    fameHuntLabel.TextXAlignment = Enum.TextXAlignment.Center
    fameHuntLabel.TextYAlignment = Enum.TextYAlignment.Center
    fameHuntLabel.Parent = fameHuntFrame
    
    return fameHuntFrame
end

-- Function to create a BillboardGui on a part
local function addBillboard(part, text)
    -- Check if the BillboardGui already exists to avoid duplication
    if part:FindFirstChild("GhostBillboard") then
        return
    end

    -- Create BillboardGui
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "GhostBillboard"
    billboard.Adornee = part
    billboard.Size = UDim2.new(0, 100, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 3, 0)
    billboard.AlwaysOnTop = true
    billboard.Parent = part

    -- Create TextLabel inside BillboardGui
    local textLabel = Instance.new("TextLabel")
    textLabel.Parent = billboard
    textLabel.BackgroundTransparency = 1
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Font = Enum.Font.Arcade
    textLabel.TextSize = 22
    textLabel.TextColor3 = textColor
    textLabel.TextStrokeTransparency = 0
    textLabel.TextYAlignment = Enum.TextYAlignment.Center
    textLabel.Text = text
    textLabel.ZIndex = 10
end

-- Function to continuously check for the Ghost's presence
local function trackGhost()
    local fameHuntFrame = createFameHuntingDisplay() -- Create and reference fameHuntFrame here

    while true do
        local ghost = workspace:FindFirstChild("Ghost")
        
        if ghost then
            if not isTracking then
                print("Ghost detected. Starting ESP.")
                isTracking = true
                addBillboard(ghost, "Ghost")
                fameHuntFrame.Visible = true  -- Show the fameHuntFrame when the ghost is detected
            end
        else
            if isTracking then
                print("Ghost disappeared. Stopping ESP.")
                isTracking = false
                -- Remove existing BillboardGui if the ghost disappears
                if workspace:FindFirstChild("GhostBillboard") then
                    workspace:FindFirstChild("GhostBillboard"):Destroy()
                end
                fameHuntFrame.Visible = false  -- Hide the fameHuntFrame when the ghost disappears
            end
        end

        wait(1) -- Check every second
    end
end

-- Start the ghost tracking function
spawn(trackGhost)

print("Ghost ESP with dynamic detection and fameHuntingFrame script is running")
--[[
    END GHOST ESP SCRIPT WITH DYNAMIC DETECTION AND FAME HUNTING FRAME
]]
