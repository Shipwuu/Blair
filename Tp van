-- Define necessary services and variables
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local HRoot = character:WaitForChild("HumanoidRootPart")

-- Save the original position of the player
local OldPos = HRoot.CFrame

-- Function to interact with the ProximityPrompt at the specific path
local function findAndInteract()
    -- Find the specific ProximityPrompt path
    local lightSwitchParent = Workspace:FindFirstChild("Map"):FindFirstChild("Van"):FindFirstChild("Van"):FindFirstChild("LeaveButton"):FindFirstChild("LightSwitch")
    
    if lightSwitchParent then
        -- Get the 3rd child which is the proximity prompt in your path
        local proximityPrompt = lightSwitchParent:GetChildren()[3]
        
        if proximityPrompt and proximityPrompt:IsA("ProximityPrompt") then
            -- Interaction loop
            repeat
                pcall(function()
                    HRoot.CFrame = proximityPrompt.Parent.CFrame -- Move to the parent of the ProximityPrompt
                end)
                wait(0.2)
                pcall(function()
                    fireproximityprompt(proximityPrompt) -- Fire the proximity prompt
                    wait(3) -- Add a 3-second cooldown after interaction
                    HRoot.CFrame = OldPos -- Return to the original position
                end)
            until not proximityPrompt.Parent or not proximityPrompt or not lightSwitchParent:IsDescendantOf(Workspace)
        else
            warn("ProximityPrompt not found at the specified path or it is not a ProximityPrompt instance.")
        end
    else
        warn("LightSwitch path not found.")
    end
end

-- Execute the function to find and interact with the ProximityPrompt
findAndInteract()
